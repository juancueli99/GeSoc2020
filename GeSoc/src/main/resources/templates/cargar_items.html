<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Cargar items</title>

    <!--Import para el css de cargar_items-->
    <link rel="stylesheet" href="files/cargar_items/style.css">

    <!--Import para el boton-->
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>

    <!--Magia JavaScript-->
    <script src="resources/scripts/jquery-3.2.1.min.js"></script>
    <script src="jquery.js"></script>

    <!--Import para la sidebar-->
    <script>
    $(function(){
      $("#includedContent").load("sidebar.html");
    });
    </script>
</head>

<body>
    <div id="base" class="">

        <div id="titulo_cargar_items">
            <p><span>Cargar Items</span></p>
        </div>

        <div id="proveedor_seleccionado">
            <p><span>Proveedor: </span></p>
            <input type="text" name="txt" class="variables_fijas" value="  ACA VA LA VARIABLE" disabled/>
        </div>

        <div id="fecha">
            <p><span>Fecha: </span></p>
            <input type="text" name="txt" class="variables_fijas" value="  ACA VA LA VARIABLE" disabled/>
        </div>

        <div id="metodo_de_pago">
            <p><span>MÃ©todo de pago: </span></p>
            <input type="text" name="txt" class="variables_fijas" value="  ACA VA LA VARIABLE" disabled/>
        </div>

        <div id="documento_comercial">
            <p><span>Documento comercial: </span></p>
            <input type="text" name="txt" class="variables_fijas" value="  ACA VA LA VARIABLE" disabled/>
        </div>

        <div id="botoncitos">
            <input type="button" class="boton_fachero" value="Agregar item" onclick="addRow('dataTable')" />
            <input type="button" class="boton_fachero" value="Eliminar item" onclick="deleteRow('dataTable')" />
        </div>

        <div id="tabla_dinamica">

            <div id="tabla_dinamica_fila">
                <table width="100%" border="1">
                    <thead>
                    <tr>
                        <th style=" border: 1px solid #515559; background-color:#e5e5e5; width:2.6%" ></th>
                        <th style=" border: 1px solid #515559; background-color:#e5e5e5; width:24.6%">Nombre item</th>
                        <th style=" border: 1px solid #515559; background-color:#e5e5e5; width:24.6%">Cantidad</th>
                        <th style=" border: 1px solid #515559; background-color:#e5e5e5; width:24.6%">Precio de unitario</th>
                    </tr>
                </table>
            </div>

            <table id="dataTable" width="100%" border="1" position="absolute">
                <tr>
                    <td><input type="checkbox" name="chk" style="align: center;"/></td>
                    <td><input type="text" name="txt" style="width: 100%; text-align: center;"/></td>
                    <td><input type="text" name="txt" style="width: 100%; text-align: center;"/></td>
                    <td><input type="text" name="txt" style="width: 100%; text-align: center;"/></td>
                </tr>
            </table>
        </div>

        <div id="total">
            <p><span>Total: </span></p>
            <input type="text" name="txt" class="variables_fijas" value="  ACA VA LA VARIABLE" disabled/>
        </div>

        <div id="cargar_items">
            <input type="button" class="boton_cargar_items" value="Cargar items"/>
        </div>

        <div id="includedContent"></div>

    </div>

    <script language="javascript">
		function addRow(tableID) {

			var table = document.getElementById(tableID);

			var rowCount = table.rows.length;
			var row = table.insertRow(rowCount);

			var colCount = table.rows[0].cells.length;

			for(var i=0; i<colCount; i++) {

				var newcell	= row.insertCell(i);

				newcell.innerHTML = table.rows[0].cells[i].innerHTML;
				//alert(newcell.childNodes);
				switch(newcell.childNodes[0].type) {
					case "text":
							newcell.childNodes[0].value = "";
							break;
					case "checkbox":
							newcell.childNodes[0].checked = false;
							break;
					case "select-one":
							newcell.childNodes[0].selectedIndex = 0;
							break;
				}
			}
		}

		function deleteRow(tableID) {
			try {
			var table = document.getElementById(tableID);
			var rowCount = table.rows.length;

			for(var i=0; i<rowCount; i++) {
				var row = table.rows[i];
				var chkbox = row.cells[0].childNodes[0];
				if(null != chkbox && true == chkbox.checked) {
					if(rowCount <= 1) {
						alert("Cannot delete all the rows.");
						break;
					}
					table.deleteRow(i);
					rowCount--;
					i--;
				}


			}
			}catch(e) {
				alert(e);
			}
		}
    </script>
</body>
</html>